<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vel Tech Bus Management System</title>
    <link rel="stylesheet" href="css/output.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0;
        }
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 3rem;
            text-align: center;
            max-width: 500px;
            width: 90%;
            position: relative;
            overflow: hidden;
        }
        /* Watermark logo inside the white box */
        .container::before {
            content: '';
            position: absolute;
            inset: 0;
            background: url('images/logo.png') center/90% no-repeat;
            opacity: 0.18; /* stronger watermark; tweak 0.12–0.22 */
            pointer-events: none; /* keep buttons clickable */
            z-index: 0;
        }
        .container > * { position: relative; z-index: 1; }
        .logo {
            width: 120px;
            height: 120px;
            margin: 0 auto 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .logo svg {
            width: 100%;
            height: 100%;
        }
        h1 {
            color: #2d3748;
            margin-bottom: 1rem;
            font-size: 2rem;
        }
        .subtitle {
            color: #718096;
            margin-bottom: 2rem;
        }
        .btn {
            display: inline-block;
            padding: 1rem 2rem;
            margin: 0.5rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 600;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        .btn-secondary {
            background: linear-gradient(135deg, #48bb78, #38a169);
        }
        .features {
            margin-top: 2rem;
            text-align: left;
        }
        .feature {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            color: #4a5568;
        }
        .feature-icon {
            width: 24px;
            height: 24px;
            margin-right: 1rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
        }
        .loader-overlay { position: fixed; inset: 0; background: rgba(255,255,255,0.6); backdrop-filter: blur(2px); z-index: 9999; overflow: hidden; opacity: 1; transition: opacity .4s ease; }
        .loader-overlay.hidden { opacity: 0; pointer-events: none; }
        .bus-track { position: absolute; left: 0; right: 0; top: 50%; height: 64px; transform: translateY(-50%); }
        .bus-icon { width: 120px; height: 64px; position: absolute; left: -140px; top: 0; animation: bus-move 3.4s cubic-bezier(.22,.61,.36,1) forwards, bus-bob .8s ease-in-out infinite alternate; }
        @keyframes bus-move { from { transform: translateX(-120%); } to { transform: translateX(110vw); } }
        @keyframes bus-bob { from { margin-top: -1px; } to { margin-top: 1px; } }
        .wheel { transform-box: fill-box; transform-origin: center; /* spinning disabled */ }
        /* Smoke puffs */
        .smoke-puff { animation: smoke-drift 3s ease-out infinite; transform-box: fill-box; transform-origin: center; }
        .puff-1 { animation-delay: 0s; }
        .puff-2 { animation-delay: .25s; }
        .puff-3 { animation-delay: .5s; }
        .puff-4 { animation-delay: .75s; }
        .puff-5 { animation-delay: 1s; }
        .puff-6 { animation-delay: 1.25s; }
        .puff-7 { animation-delay: 1.5s; }
        .puff-8 { animation-delay: 1.75s; }
        .puff-9 { animation-delay: 2s; }
        .puff-10 { animation-delay: 2.25s; }
        .puff-11 { animation-delay: 2.5s; }
        .puff-12 { animation-delay: 2.75s; }
        .puff-13 { animation-delay: 3s; }
        .puff-14 { animation-delay: 3.25s; }
        .puff-15 { animation-delay: 3.5s; }
        .puff-16 { animation-delay: 3.75s; }
        @keyframes smoke-drift {
            0% { opacity: .6; transform: translate(0, 0) scale(1); }
            100% { opacity: 0; transform: translate(-60px, -20px) scale(2.0); }
        }
    </style>
</head>
<body>
    <div id="page-loader" class="loader-overlay">
        <div class="bus-track">
            <svg class="bus-icon" viewBox="0 0 400 160" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <defs>
                    <linearGradient id="busBody" x1="0" y1="0" x2="0" y2="1">
                        <stop offset="0%" stop-color="#FACC15"/>
                        <stop offset="100%" stop-color="#F59E0B"/>
                    </linearGradient>
                    <linearGradient id="glass" x1="0" y1="0" x2="0" y2="1">
                        <stop offset="0%" stop-color="#E5F4FF"/>
                        <stop offset="100%" stop-color="#BFE0F7"/>
                    </linearGradient>
                    <filter id="shadowBlur" x="-20%" y="-50%" width="140%" height="200%">
                        <feGaussianBlur in="SourceGraphic" stdDeviation="7 3"/>
                    </filter>
                    <filter id="motionX" x="-50%" y="-50%" width="200%" height="200%">
                        <feGaussianBlur in="SourceGraphic" stdDeviation="3 0"/>
                    </filter>
                    <filter id="wheelBlur" x="-50%" y="-50%" width="200%" height="200%">
                        <feGaussianBlur in="SourceGraphic" stdDeviation="1.5"/>
                    </filter>
                    <filter id="smokeBlur" x="-50%" y="-50%" width="200%" height="200%">
                        <feGaussianBlur in="SourceGraphic" stdDeviation="2 2"/>
                    </filter>
                </defs>

                <!-- road blur / shadow -->
                <ellipse cx="200" cy="125" rx="140" ry="10" fill="#000" opacity="0.25" filter="url(#shadowBlur)"/>

                <!-- smoke puffs behind rear of bus -->
                <g opacity="0.9">
                    <ellipse class="smoke-puff puff-1"  cx="36" cy="98" rx="18" ry="10"  fill="#374151" filter="url(#smokeBlur)"/>
                    <ellipse class="smoke-puff puff-2"  cx="32" cy="94" rx="16" ry="9"   fill="#374151" filter="url(#smokeBlur)"/>
                    <ellipse class="smoke-puff puff-3"  cx="28" cy="90" rx="14" ry="8"   fill="#374151" filter="url(#smokeBlur)"/>
                    <ellipse class="smoke-puff puff-4"  cx="24" cy="86" rx="16" ry="9"   fill="#374151" filter="url(#smokeBlur)"/>
                    <ellipse class="smoke-puff puff-5"  cx="20" cy="82" rx="18" ry="10"  fill="#374151" filter="url(#smokeBlur)"/>
                    <ellipse class="smoke-puff puff-6"  cx="16" cy="78" rx="16" ry="9"   fill="#374151" filter="url(#smokeBlur)"/>
                    <ellipse class="smoke-puff puff-7"  cx="12" cy="74" rx="14" ry="8"   fill="#374151" filter="url(#smokeBlur)"/>
                    <ellipse class="smoke-puff puff-8"  cx="8"  cy="70" rx="16" ry="9"   fill="#374151" filter="url(#smokeBlur)"/>
                    <ellipse class="smoke-puff puff-9"  cx="4"  cy="66" rx="14" ry="8"   fill="#374151" filter="url(#smokeBlur)"/>
                    <ellipse class="smoke-puff puff-10" cx="0"  cy="62" rx="18" ry="10"  fill="#374151" filter="url(#smokeBlur)"/>
                    <ellipse class="smoke-puff puff-11" cx="-4" cy="58" rx="16" ry="9"  fill="#374151" filter="url(#smokeBlur)"/>
                    <ellipse class="smoke-puff puff-12" cx="-8" cy="54" rx="14" ry="8"  fill="#374151" filter="url(#smokeBlur)"/>
                    <ellipse class="smoke-puff puff-13" cx="-12" cy="50" rx="16" ry="9" fill="#374151" filter="url(#smokeBlur)"/>
                    <ellipse class="smoke-puff puff-14" cx="-16" cy="46" rx="14" ry="8" fill="#374151" filter="url(#smokeBlur)"/>
                    <ellipse class="smoke-puff puff-15" cx="-20" cy="42" rx="16" ry="9" fill="#374151" filter="url(#smokeBlur)"/>
                    <ellipse class="smoke-puff puff-16" cx="-24" cy="38" rx="18" ry="10" fill="#374151" filter="url(#smokeBlur)"/>
                </g>

                <g transform="skewY(-5)">
                    <!-- bus body -->
                    <rect x="40" y="35" width="300" height="90" rx="14" fill="url(#busBody)" stroke="#111827" stroke-width="3"/>
                    <!-- black accent stripe -->
                    <rect x="40" y="88" width="300" height="8" fill="#111827" opacity="0.95"/>

                    <!-- windows -->
                    <rect x="60" y="48" width="78" height="24" rx="4" fill="url(#glass)" stroke="#1F2937" stroke-width="2"/>
                    <rect x="150" y="48" width="78" height="24" rx="4" fill="url(#glass)" stroke="#1F2937" stroke-width="2"/>
                    <rect x="240" y="48" width="78" height="24" rx="4" fill="url(#glass)" stroke="#1F2937" stroke-width="2"/>

                    <!-- door line -->
                    <rect x="235" y="46" width="3" height="44" fill="#1F2937" opacity="0.7"/>

                    <!-- front light -->
                    <circle cx="342" cy="92" r="5" fill="#FFE16A" stroke="#F59E0B" stroke-width="1"/>

                    <!-- speed lines (subtle) -->
                    <g opacity="0.45" filter="url(#motionX)">
                        <rect x="20" y="78" width="18" height="3" rx="1.5" fill="#111827"/>
                        <rect x="12" y="85" width="26" height="3" rx="1.5" fill="#111827"/>
                        <rect x="28" y="92" width="20" height="3" rx="1.5" fill="#111827"/>
                    </g>

                    <!-- wheels -->
                    <g class="wheel" transform="translate(120,120)">
                        <circle r="16" fill="#111827"/>
                        <circle r="8" fill="#374151"/>
                        <g filter="url(#wheelBlur)">
                            <rect x="-1" y="-16" width="2" height="32" fill="#222" opacity="0.7"/>
                            <rect x="-16" y="-1" width="32" height="2" fill="#222" opacity="0.7"/>
                        </g>
                    </g>
                    <g class="wheel" transform="translate(300,120)">
                        <circle r="16" fill="#111827"/>
                        <circle r="8" fill="#374151"/>
                        <g filter="url(#wheelBlur)">
                            <rect x="-1" y="-16" width="2" height="32" fill="#222" opacity="0.7"/>
                            <rect x="-16" y="-1" width="32" height="2" fill="#222" opacity="0.7"/>
                        </g>
                    </g>
                </g>
            </svg>
        </div>
    </div>
    <div class="container">
        <div class="logo">
            <svg viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Vel Tech Bus Management Logo">
                <!-- Open Book (Grey) -->
                <path d="M16 84 C 32 74, 56 74, 64 80 L 64 100 C 56 94, 32 94, 16 104 Z" fill="#6B7280"/>
                <path d="M64 80 C 72 74, 96 74, 112 84 L 112 104 C 96 94, 72 94, 64 100 Z" fill="#6B7280"/>
                <!-- Bus (Navy Blue) -->
                <rect x="28" y="44" width="72" height="28" rx="6" ry="6" fill="#0B1F44"/>
                <rect x="36" y="48" width="56" height="10" fill="#ffffff" opacity="0.9"/>
                <circle cx="44" cy="76" r="6" fill="#0B1F44"/>
                <circle cx="84" cy="76" r="6" fill="#0B1F44"/>
                <!-- Teal Route Curve -->
                <path d="M24 110 C 48 100, 80 100, 104 110" stroke="#14B8A6" stroke-width="3" fill="none" stroke-linecap="round"/>
            </svg>
        </div>
        <h1>Vel Tech Bus Management</h1>
        <p class="subtitle">Smart Transportation Management System</p>
        
        <a href="admin-login.html" class="btn">Admin Portal</a>
        <a href="student-login.html" class="btn btn-secondary">Student Portal</a>
        
        <div class="features">
            <div class="feature">
                <div class="feature-icon">✓</div>
                <span>Real-time Bus Tracking</span>
            </div>
            <div class="feature">
                <div class="feature-icon">✓</div>
                <span>Schedule Management</span>
            </div>
            <div class="feature">
                <div class="feature-icon">✓</div>
                <span>Student Login Tracking</span>
            </div>
            <div class="feature">
                <div class="feature-icon">✓</div>
                <span>Secure Admin Panel</span>
            </div>
        </div>
    </div>
    <script>
    window.addEventListener('load',function(){
      var o=document.getElementById('page-loader');
      var b=document.querySelector('#page-loader .bus-icon');
      function fullyHide(){ if(o){ o.style.display='none'; } }
      function endBusThenSmoke(){
        if(b){ b.style.display='none'; }
        // Allow interaction during lingering smoke
        if(o){ o.style.pointerEvents = 'none'; }
        // Let smoke continue longer, then fade overlay
        setTimeout(function(){ if(o){ o.classList.add('hidden'); setTimeout(fullyHide, 500); } }, 3000);
      }
      if(b){ b.addEventListener('animationend', endBusThenSmoke, { once:true }); }
      // Fallback in case animationend doesn't fire
      setTimeout(endBusThenSmoke, 5000);
    });
    </script>
</body>
</html>
